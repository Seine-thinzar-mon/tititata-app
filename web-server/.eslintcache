[{"/home/norman/me/learn/webrtc/tititata-app/web-server/src/index.js":"1","/home/norman/me/learn/webrtc/tititata-app/web-server/src/reportWebVitals.js":"2","/home/norman/me/learn/webrtc/tititata-app/web-server/src/App.js":"3","/home/norman/me/learn/webrtc/tititata-app/web-server/src/redux/reduxStore.js":"4","/home/norman/me/learn/webrtc/tititata-app/web-server/src/redux/userReducer.js":"5","/home/norman/me/learn/webrtc/tititata-app/web-server/src/redux/actionTypes.js":"6","/home/norman/me/learn/webrtc/tititata-app/web-server/src/redux/actions.js":"7","/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/Layout.js":"8","/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/SideBar.js":"9","/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/MainMessageArea.js":"10","/home/norman/me/learn/webrtc/tititata-app/web-server/src/socketClient.js":"11","/home/norman/me/learn/webrtc/tititata-app/web-server/src/config/index.js":"12","/home/norman/me/learn/webrtc/tititata-app/web-server/src/config/api.js":"13","/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/EntranceModal.js":"14","/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/testVideoCall.js":"15"},{"size":553,"mtime":1608009497291,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1607941946325,"results":"18","hashOfConfig":"17"},{"size":847,"mtime":1608177227910,"results":"19","hashOfConfig":"17"},{"size":161,"mtime":1608085736633,"results":"20","hashOfConfig":"17"},{"size":987,"mtime":1608218294711,"results":"21","hashOfConfig":"17"},{"size":241,"mtime":1608218227025,"results":"22","hashOfConfig":"17"},{"size":734,"mtime":1608218255234,"results":"23","hashOfConfig":"17"},{"size":4784,"mtime":1608455379363,"results":"24","hashOfConfig":"17"},{"size":3680,"mtime":1608455134379,"results":"25","hashOfConfig":"17"},{"size":8110,"mtime":1608446518604,"results":"26","hashOfConfig":"17"},{"size":1383,"mtime":1608446518608,"results":"27","hashOfConfig":"17"},{"size":57,"mtime":1608113831910,"results":"28","hashOfConfig":"17"},{"size":212,"mtime":1608455716681,"results":"29","hashOfConfig":"17"},{"size":1315,"mtime":1608199235190,"results":"30","hashOfConfig":"17"},{"size":2305,"mtime":1608456009817,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1lmkz8u",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/norman/me/learn/webrtc/tititata-app/web-server/src/index.js",[],["65","66"],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/reportWebVitals.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/App.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/redux/reduxStore.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/redux/userReducer.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/redux/actionTypes.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/redux/actions.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/Layout.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/SideBar.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/MainMessageArea.js",["67","68","69"],"import React, { Component, useState } from \"react\"\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport { withRouter } from \"react-router-dom\"\nimport { connect } from \"react-redux\";\nimport { setSelectedUser, setMessages, setMenuShow } from \"../redux/actions\"\nimport config from \"../config\"\nimport socket from \"../socketClient\"\nimport moment from 'moment';\n\nconst { RTCPeerConnection, RTCSessionDescription } = window;\n\nclass MainMessageArea extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t}\n\n\tcomponentDidMount() {\t\n\t\tif(this.scrollRef) \n\t\t\tthis.scrollRef.scrollTop = this.scrollRef.scrollHeight\n\t\tif(!this.props.selectedUser && this.props.match.params.userId) {\n\t\t\tif(!this.props.activeUsers || this.props.activeUsers.length===0 || !this.props.activeUsers.find(u => u.socketId===this.props.match.params.userId)) \n\t\t\t\treturn this.props.history.replace({ pathname: \"/\" })\n\t\t\telse {\n\t\t\t\tthis.props.setSelectedUser(this.props.activeUsers.find(u => u.socketId===this.props.match.params.userId))\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif(prevProps.match.params.userId !== this.props.match.params.userId) {\n\t\t\tif(this.scrollRef) \n\t\t\t\tthis.scrollRef.scrollTop = this.scrollRef.scrollHeight\n\t\t}\n\t}\n\n\thandleSendMessage = (text) => {\n\t\tif(!text || text.trim()===\"\") return;\n\t\t// console.log(\"Handle Send Message: \", text)\n\t\tsocket.emit(\"priv-msg\", { text, toSocketId: this.props.selectedUser.socketId })\n\t}\n\n\trender() {\n\n\t\tconst MessageListView = this.props.messages\n\t\t\t.filter(v => v.from===this.props.selectedUser.socketId || v.to===this.props.selectedUser.socketId)\n\t\t\t.map((v, i) => v.type===\"sent\" ? <MessageSentBox key={i} data={v} /> : <MessageReceivedBox key={i} data={v} /> )\n\t\treturn (\n\t\t\t<div className={\"\" + this.props.className} style={{ ...this.props.style}}>\n\t\t\t\t<div className=\"d-flex align-items-center\" style={{ backgroundColor: \"#c5dec5\", height: 60, boxShadow: \"0rem 0.065rem 0.12rem lightgray\", marginBottom: 1 }}>\n\t\t\t\t\t{ this.props.selectedUser && <Header requestCall={this.props.requestCall} setMenuShow={this.props.setMenuShow} menuShow={this.props.menuShow} width={this.props.page.width} selectedUser={this.props.selectedUser} /> }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"\" style={{ height: this.props.page.height-127 }}>\n\t\t\t\t\t<PerfectScrollbar containerRef = {(ref) => { this.scrollRef = ref; }} >\n\t\t\t\t\t\t<div style={{ height: 20 }}></div>\n\t\t\t\t\t\t{ MessageListView }\n\t\t\t\t\t\t<div style={{ height: 20 }}></div>\n\t\t\t\t\t</PerfectScrollbar>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex align-items-center bg-light\" style={{ marginTop: 1, minHeight: 64, boxShadow: \"0rem -0.065rem 0.1rem lightgray\" }}>\n\t\t\t\t\t<InputFooter handleSendMessage={this.handleSendMessage}/>\n\t\t\t\t</div>\n\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst Header = ({ selectedUser, setMenuShow, menuShow, width, requestCall }) => {\n\tif(!selectedUser) return null\n\treturn (\n\t\t<div className=\"d-flex flex-fill\" style={{ height: 58, cursor: \"default\" }}>\n\t\t\t{width<=1000 && <div className=\"d-flex align-items-center ps-2\">\n\t\t\t\t<div className=\"btn btn-sm shadow-sm px-2\" onClick={e => setMenuShow(!menuShow)}>\n\t\t\t\t\t<i className=\"fas fa-bars fa-2x text-secondary text-success\"></i>\n\t\t\t\t</div>\n\t\t\t</div>}\n\t\t\t<div className=\"d-flex align-items-center justify-content-center ps-3\">\n\t\t\t\t<img src={config.api.API+selectedUser.avatarUrl} className=\"img-thumbnail rounded-circle p-0 avatar-img-1\" alt={\"user-avatar\"} />\n\t\t\t</div>\n\t\t\t<div className=\"d-flex align-items-center justify-content-between flex-fill ps-2\" style={{  }}>\n\t\t\t\t<div className=\"\" style={{ fontSize: \"1.1em\" }}>{selectedUser.displayName}</div>\n\t\t\t\t<div className=\"btn btn-sm px-3\" onClick={requestCall}>\n\t\t\t\t\t<i className=\"fas fa-camera fa-2x text-secondary text-success\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst InputFooter = (props) => {\n\tconst [text, setText] = useState(\"\")\n\treturn (\n\t\t<div className=\"px-2 d-flex w-100\">\n\t\t\t<div className=\"d-flex flex-fill px-4 align-items-center\">\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: \"2em\", width: \"2em\" }}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<i className=\"far fa-comment-dots fa-2x text-secondary\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex-fill px-2 d-flex flex-column justify-content-start py-1\">\n\t\t\t\t\t<div id=\"footerInputBox\" className=\"hover-raise py-2 px-3 bg-white rounded-3 text-dark\" contentEditable=\"true\" \n\t\t\t\t\t\tonInput={e => {\n\t\t\t\t\t\t\te.preventDefault(true)\n\t\t\t\t\t\t\tsetText(e.target.textContent)\n\t\t\t\t\t\t\t// if(e.nativeEvent.inputType===\"deleteContentForward\") \n\t\t\t\t\t\t\t// else if (e.nativeEvent.inputType===\"deleteContentBackward\")\n\t\t\t\t\t\t\t// else if (e.nativeEvent.inputType===\"insertText\")\n\t\t\t\t\t\t}} \n\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\tif(e.code===\"Enter\") {\n\t\t\t\t\t\t\t\te.preventDefault(true)\n\t\t\t\t\t\t\t\tsetText(\"\")\n\t\t\t\t\t\t\t\tdocument.getElementById(\"footerInputBox\").textContent = \"\"\n\t\t\t\t\t\t\t\tprops.handleSendMessage(text)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder=\"Type a message\" value={text} style={{ borderWidth: 1, borderStyle: \"solid\", borderColor: \"#d5d5d5\", outline: \"none\"}}>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\n\t\t\t\t\t<div \n\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\tsetText(\"\")\n\t\t\t\t\t\t\tdocument.getElementById(\"footerInputBox\").textContent = \"\"\n\t\t\t\t\t\t\tprops.handleSendMessage(text)\n\t\t\t\t\t\t}} \n\t\t\t\t\tclassName=\"hover-raise bg-secondary rounded-circle d-flex align-items-center justify-content-center\" style={{ cursor: \"pointer\", height: \"2.4em\", width: \"2.4em\"}}>\n\t\t\t\t\t\t<i className=\"text-white fas fa-chevron-right fa-lg m-0\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst MessageReceivedBox = ({ data }) => {\n\tconst [show, setShow] = useState(false)\n\treturn (\n\t\t<div className=\"py-2 \">\n\t\t\t<div className=\"px-4 d-flex justify-content-start\">\n\t\t\t\t<div onClick={e => setShow(!show)} className=\"px-2 py-1 shadow-sm rounded-3\" style={{ minWidth: 220, backgroundColor: \"#d5e5d5\",   borderWidth: 1, borderStyle: \"outset\" }}>\n\t\t\t\t\t<div className=\"text-dark\">{data.text}</div>\n\t\t\t\t\t<div className=\"text-end text-secondary\" style={{ fontSize: \"0.8em\"}}>{moment(data.ts).format(\"LT\")}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{show && <div className=\"px-4 pt-1\" style={{ fontSize: \"0.7em\" }}>&nbsp;{moment(data.ts).format(\"llll\")}</div> }\n\t\t</div>\n\t)\n}\n\nconst MessageSentBox = ({ data }) => {\n\tconst [show, setShow] = useState(false)\n\treturn (\n\t\t<div className=\"py-2 \">\n\t\t\t<div className=\"pe-4  d-flex justify-content-end\" style={{ paddingLeft: 80 }}>\n\t\t\t\t<div onClick={e => setShow(!show)} className=\"px-2 py-1 shadow-sm rounded-3\" style={{ minWidth: 220, backgroundColor: \"#f0f0f0\",   borderWidth: 1, borderStyle: \"outset\" }}>\n\t\t\t\t\t<div className=\"text-dark\">{data.text}</div>\n\t\t\t\t\t<div className=\"text-end text-secondary\" style={{ fontSize: \"0.8em\"}}>{moment(data.ts).format(\"LT\")}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{show && <div className=\"px-4 pt-1\" style={{ fontSize: \"0.7em\" }}>&nbsp;{moment(data.ts).format(\"llll\")}</div> }\n\t\t</div>\n\t)\n}\n\n\nexport default withRouter(connect(\n\tstate => ({\n\t\tselectedUser: state.userReducer.selectedUser,\n\t\tactiveUsers: state.userReducer.activeUsers,\n\t\tmyInfo: state.userReducer.myInfo,\n\t\tmessages: state.userReducer.messages,\n\t\tmenuShow: state.userReducer.menuShow\n\t}), \n\t{ setSelectedUser, setMessages, setMenuShow }\n)(MainMessageArea))\n","/home/norman/me/learn/webrtc/tititata-app/web-server/src/socketClient.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/config/index.js",["70"],"const api = require(\"./api\")\n\nexport default {\n    api,\n}","/home/norman/me/learn/webrtc/tititata-app/web-server/src/config/api.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/EntranceModal.js",[],"/home/norman/me/learn/webrtc/tititata-app/web-server/src/components/testVideoCall.js",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":10,"column":9,"nodeType":"77","messageId":"78","endLine":10,"endColumn":26},{"ruleId":"75","severity":1,"message":"79","line":10,"column":28,"nodeType":"77","messageId":"78","endLine":10,"endColumn":49},{"ruleId":"80","severity":1,"message":"81","line":13,"column":2,"nodeType":"82","messageId":"83","endLine":15,"endColumn":3},{"ruleId":"84","severity":1,"message":"85","line":3,"column":1,"nodeType":"86","endLine":5,"endColumn":2},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"no-unused-vars","'RTCPeerConnection' is assigned a value but never used.","Identifier","unusedVar","'RTCSessionDescription' is assigned a value but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]